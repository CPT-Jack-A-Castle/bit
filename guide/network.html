
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network &#8212; Bit 0.7.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Transactions" href="transactions.html" />
    <link rel="prev" title="Keys" href="keys.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
<div class="documentwrapper">
  <div class="bodywrapper">
    <div class="body" role="main">
    
  <div class="section" id="network">
<span id="id1"></span><h1>Network<a class="headerlink" href="#network" title="Permalink to this headline">¶</a></h1>
<div class="section" id="balance">
<h2>Balance<a class="headerlink" href="#balance" title="Permalink to this headline">¶</a></h2>
<p>Every private key has a <code class="docutils literal notranslate"><span class="pre">balance</span></code> property which is initially set to 0. This
internal balance will always be in <a class="reference external" href="https://en.bitcoin.it/wiki/Satoshi_(unit)">satoshi</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bit</span> <span class="kn">import</span> <span class="n">PrivateKeyTestnet</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">PrivateKeyTestnet</span><span class="p">(</span><span class="s1">&#39;cU6s7jckL3bZUUkb3Q2CD9vNu8F1o58K5R5a3JFtidoccMbhEGKZ&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">balance</span>
<span class="go">0</span>
</pre></div>
</div>
<p>You can query the <a class="reference external" href="https://en.bitcoin.it/wiki/Block_chain">blockchain</a> for the current balance by calling
<a class="reference internal" href="../dev/api.html#bit.PrivateKey.get_balance" title="bit.PrivateKey.get_balance"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_balance()</span></code></a>. It takes an optional argument <code class="docutils literal notranslate"><span class="pre">currency</span></code>
(see <a class="reference internal" href="rates.html#supported-currencies"><span class="std std-ref">Supported Currencies</span></a>) and returns a formatted string rounded down
to the proper number of decimal places. By default it will return the balance
in satoshi.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">get_balance</span><span class="p">(</span><span class="s1">&#39;btc&#39;</span><span class="p">)</span>
<span class="go">&#39;0.82721202&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">balance</span>
<span class="go">82721202</span>
</pre></div>
</div>
<p>After you communicate with the network, you can view the internal balance in
terms of other currencies using <a class="reference internal" href="../dev/api.html#bit.PrivateKey.balance_as" title="bit.PrivateKey.balance_as"><code class="xref py py-func docutils literal notranslate"><span class="pre">balance_as()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">balance_as</span><span class="p">(</span><span class="s1">&#39;mbtc&#39;</span><span class="p">)</span>
<span class="go">&#39;827.21202&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">balance_as</span><span class="p">(</span><span class="s1">&#39;usd&#39;</span><span class="p">)</span>
<span class="go">&#39;944.06&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">balance_as</span><span class="p">(</span><span class="s1">&#39;gbp&#39;</span><span class="p">)</span>
<span class="go">&#39;757.58&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">balance_as</span><span class="p">(</span><span class="s1">&#39;cny&#39;</span><span class="p">)</span>
<span class="go">&#39;6485.39&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="rates.html#unsupported-currencies"><span class="std std-ref">Unsupported Currencies</span></a>.</p>
</div>
<div class="section" id="unspent">
<h2>Unspent<a class="headerlink" href="#unspent" title="Permalink to this headline">¶</a></h2>
<p>You can see what <a class="reference external" href="https://en.bitcoin.it/wiki/Transaction#Input">unspent transaction outputs</a> (commonly referred to as UTXO)
you have available to spend by calling <a class="reference internal" href="../dev/api.html#bit.PrivateKey.get_unspents" title="bit.PrivateKey.get_unspents"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_unspents()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">PrivateKeyTestnet</span><span class="p">(</span><span class="s1">&#39;cU6s7jckL3bZUUkb3Q2CD9vNu8F1o58K5R5a3JFtidoccMbhEGKZ&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">unspents</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">get_unspents</span><span class="p">()</span>
<span class="go">[Unspent(amount=82721202, confirmations=688, script=&#39;76a914990ef60d63b5b5964a1c2282061af45123e93fcb88ac&#39;, txid=&#39;2ae6f3cc21cf11cfc7ad5d79436ecf08521df6a106691dcd1672b076138ea6ff&#39;, txindex=1)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">unspents</span>
<span class="go">[Unspent(amount=82721202, confirmations=688, script=&#39;76a914990ef60d63b5b5964a1c2282061af45123e93fcb88ac&#39;, txid=&#39;2ae6f3cc21cf11cfc7ad5d79436ecf08521df6a106691dcd1672b076138ea6ff&#39;, txindex=1)]</span>
</pre></div>
</div>
<p>As you can see, this address has 1 available UTXO to spend worth 82721202
satoshi. <a class="reference internal" href="../dev/api.html#bit.PrivateKey.get_balance" title="bit.PrivateKey.get_balance"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_balance()</span></code></a> uses this method by totalling the
amount of all UTXO. You will never have to use this directly.</p>
</div>
<div class="section" id="transaction-history">
<h2>Transaction History<a class="headerlink" href="#transaction-history" title="Permalink to this headline">¶</a></h2>
<p>Get a list of all transactions from newest to oldest by calling
<a class="reference internal" href="../dev/api.html#bit.PrivateKey.get_transactions" title="bit.PrivateKey.get_transactions"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_transactions()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">PrivateKeyTestnet</span><span class="p">(</span><span class="s1">&#39;cU6s7jckL3bZUUkb3Q2CD9vNu8F1o58K5R5a3JFtidoccMbhEGKZ&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">transactions</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">get_transactions</span><span class="p">()</span>
<span class="go">[&#39;2ae6f3cc21cf11cfc7ad5d79436ecf08521df6a106691dcd1672b076138ea6ff&#39;,</span>
<span class="go"> &#39;56e2df8402c86c3e9467a296d112127a27c11ba8d187e0e1cac1b35f4780d11d&#39;,</span>
<span class="go"> &#39;c055bd6c8090e839ac8caea116aa5519897aaa6ee12fb2566de996dd46c9ca97&#39;,</span>
<span class="go"> &#39;ab8e45386651c6bc1230841b6c728bff222754d6c9c0b4e40bb5bbc39796dc44&#39;,</span>
<span class="go"> &#39;9c3d31f8a72f3358a73d39abdf1088d119bac2baba31bb04f0721aeb4e19fd61&#39;,</span>
<span class="go"> &#39;94fe41e489626642541df5deccaed64354f0840934fb0177dc0374beecaaeaa7&#39;,</span>
<span class="go"> &#39;143c0fc2fae94a0ad5572e8f1735db5fe26835778127f29e097b1e736f8842b7&#39;,</span>
<span class="go"> &#39;21064f95e82f6061704652a0fe9b92a2c7a75a75be4aa8a83bdf9b45678818a2&#39;,</span>
<span class="go"> &#39;0ec29933320919b4b92c3df2ad646e01ffa62f139530e7d98934db884b264943&#39;,</span>
<span class="go"> &#39;bdf635087dc14111eda16a094b41acc6fe6563fe315cc10562f3736b364173c6&#39;,</span>
<span class="go"> &#39;4c82f8f10adeae19003586fe1a705395fc91683b8e7364823227f0003639b233&#39;,</span>
<span class="go"> &#39;a3533f0cf84f57f20c9697c5e8379f7b5c5f3461ba6f80acd906104788a92ddd&#39;,</span>
<span class="go"> &#39;1eceb6c9576d0a9ab23a9e25c07b8c7407d9363a8a30ad9309941783d831305f&#39;,</span>
<span class="go"> &#39;e02e968a68788bb53dba546a775b79ede8a704e5761d37644f02f76fc1d2b52a&#39;,</span>
<span class="go"> &#39;52a573c2aa3428f035b8b90b1663dec70c8a1fae4f99f183eb88be4393c395ea&#39;,</span>
<span class="go"> &#39;5c9ae53024e1606f74d7c7219a629cf582432e402f5d5de599377a4932423731&#39;,</span>
<span class="go"> &#39;b99dd023ddd511e185c25cbb829f0f96c5515d4fc35ec86e23db30e43c37baa2&#39;,</span>
<span class="go"> &#39;66aa55b471b39534935d011f445ea1bc83b5d785a533d7c1f29116d9360f1dd0&#39;,</span>
<span class="go"> &#39;0338b19483b32d9f3b1d11e7fc79ac14b1ed14fcfa66fce4b9a691082985665b&#39;,</span>
<span class="go"> &#39;51e09d0752fc6cc22cf2de73b9cab1bd0394f9b0fa9aa05638136f539f4e8091&#39;,</span>
<span class="go"> &#39;4e1e8302572dd910bb7478b8b0a7839ac34999bec847c2940be29100ae4af472&#39;,</span>
<span class="go"> &#39;dc885a7cfcb12d8553cc91f06c0cebf72228ba1abaed67c0b40c2d6a620b2df4&#39;,</span>
<span class="go"> &#39;1bf4248262aba1518e8fbe09fdc2feb8b8165205d9cae150077f1b0dc5df5d16&#39;]</span>
</pre></div>
</div>
<p>Presently this just returns each transaction’s hash for further lookup. In
a future release they will become proper objects.</p>
</div>
<div class="section" id="services">
<h2>Services<a class="headerlink" href="#services" title="Permalink to this headline">¶</a></h2>
<p>Bit communicates with the blockchain using trusted third-party APIs.
Specifically, it can access:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://blockchair.com">https://blockchair.com</a> via <a class="reference internal" href="../dev/api.html#bit.network.services.BlockchairAPI" title="bit.network.services.BlockchairAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlockchairAPI</span></code></a></p></li>
<li><p><a class="reference external" href="https://blockstream.info">https://blockstream.info</a> via <a class="reference internal" href="../dev/api.html#bit.network.services.BlockstreamAPI" title="bit.network.services.BlockstreamAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlockstreamAPI</span></code></a></p></li>
<li><p><a class="reference external" href="https://bitcore.io">https://bitcore.io</a> via <a class="reference internal" href="../dev/api.html#bit.network.services.BitcoreAPI" title="bit.network.services.BitcoreAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BitcoreAPI</span></code></a></p></li>
<li><p><a class="reference external" href="https://smartbit.com.au">https://smartbit.com.au</a> via <a class="reference internal" href="../dev/api.html#bit.network.services.SmartbitAPI" title="bit.network.services.SmartbitAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">SmartbitAPI</span></code></a></p></li>
<li><p><a class="reference external" href="https://blockchain.info">https://blockchain.info</a> via <a class="reference internal" href="../dev/api.html#bit.network.services.BlockchainAPI" title="bit.network.services.BlockchainAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlockchainAPI</span></code></a></p></li>
</ul>
<div class="section" id="networkapi">
<h3>NetworkAPI<a class="headerlink" href="#networkapi" title="Permalink to this headline">¶</a></h3>
<p>Private key network operations use <a class="reference internal" href="../dev/api.html#bit.network.NetworkAPI" title="bit.network.NetworkAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">NetworkAPI</span></code></a>. For each method,
it polls a service and if an error occurs it tries another.</p>
<p><strong>Note:</strong></p>
<p><a class="reference internal" href="../dev/api.html#bit.network.services.BlockchainAPI" title="bit.network.services.BlockchainAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlockchainAPI</span></code></a> does only track up to 1000 unspent
transaction outputs (UTXOs) and will raise <a class="reference internal" href="../dev/api.html#bit.exceptions.ExcessiveAddress" title="bit.exceptions.ExcessiveAddress"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExcessiveAddress</span></code></a>
if polling unspents on an address with 1000 or more UTXOs.</p>
<p><a class="reference internal" href="../dev/api.html#bit.network.services.BlockstreamAPI" title="bit.network.services.BlockstreamAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlockstreamAPI</span></code></a> does only track up to 50 _unconfirmed_
transactions and will raise <a class="reference internal" href="../dev/api.html#bit.exceptions.ExcessiveAddress" title="bit.exceptions.ExcessiveAddress"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExcessiveAddress</span></code></a> if polling
unspents on an address with 50 or more unconfirmed. It may occasionally also
raise <a class="reference internal" href="../dev/api.html#bit.exceptions.ExcessiveAddress" title="bit.exceptions.ExcessiveAddress"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExcessiveAddress</span></code></a> on an address with a history of
many (1000+) transactions.</p>
<p>In those cases where the API may raise errors due to <a class="reference internal" href="../dev/api.html#bit.exceptions.ExcessiveAddress" title="bit.exceptions.ExcessiveAddress"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExcessiveAddress</span></code></a>
it is advised to use your own remote Bitcoin node to poll, see below.</p>
</div>
</div>
</div>
<div class="section" id="using-a-remote-bitcoin-core-node">
<h1>Using a Remote Bitcoin Core Node<a class="headerlink" href="#using-a-remote-bitcoin-core-node" title="Permalink to this headline">¶</a></h1>
<p>Bit can alternatively use a remote Bitcoin node to interact with the blockchain.</p>
<p>Instead of using web APIs to interact with the Bitcoin blockchain it is
possible to connect to a remote Bitcoin Core node. Bitcoin Core however is not
meant as a full-fledged blockchain explorer and does only keep track of
addresses associated with its wallet.</p>
<div class="section" id="transaction-database-index-and-txindex">
<h2>Transaction Database Index and <code class="docutils literal notranslate"><span class="pre">txindex</span></code><a class="headerlink" href="#transaction-database-index-and-txindex" title="Permalink to this headline">¶</a></h2>
<p>By default Bitcoin Core does not maintain any transaction-level data except for
those transactions
- in the mempool or relay set
- pertinent to addresses in your wallet
- pertinent to your “watch-only” addresses</p>
<p>If querying arbitrary transactions is important then the option <code class="docutils literal notranslate"><span class="pre">txindex</span></code> must
be set to true (1) inside the Bitcoin Core configuration file. Setting this
option does not allow querying for arbitrary data on addresses, but only for
those that are added to the wallet in for Bitcoin Core to be fetched.</p>
</div>
<div class="section" id="configuring-bitcoin-core">
<h2>Configuring Bitcoin Core<a class="headerlink" href="#configuring-bitcoin-core" title="Permalink to this headline">¶</a></h2>
<p>To use Bitcoin Core as a remote node it must accept remote procedure call (RPC)
methods from the host running Bit. A username and password for the RPC must be
defined inside the Bitcoin Core configuration file.</p>
<p>Adding a RPC user and password can be done with the <code class="docutils literal notranslate"><span class="pre">rpcauth</span></code> option that uses a
hashed password. The field comes in the format: <code class="docutils literal notranslate"><span class="pre">&lt;USERNAME&gt;:&lt;SALT&gt;$&lt;HASH&gt;</span></code>. A
canonical python script is included inside Bitcoin Core’s <a class="reference external" href="https://github.com/bitcoin/bitcoin/tree/master/share/rpcauth">share/rpcuser</a>
directory. This python script creates such a user/password combination
(note that you are given the password, you do not get to specify it yourself).</p>
<p>Run the script, e.g.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">python</span> <span class="o">./</span><span class="n">rpcuser</span><span class="o">.</span><span class="n">py</span> <span class="n">username</span>
<span class="go">String to be appended to bitcoin.conf:</span>
<span class="go">rpcauth=username:a14191e6892facf70686a397b126423$ddd6f7480817bd6f8083a2e07e24b93c4d74e667f3a001df26c5dd0ef5eafd0d</span>
<span class="go">Your password:</span>
<span class="go">VX3z87LBVc_X7NBLABLABLABLA</span>
</pre></div>
</div>
<p>Note that this option can be specified multiple times.</p>
<p>Finally, make sure that Bitcoin Core will accept RPC methods from the host
running Bit. The option <code class="docutils literal notranslate"><span class="pre">rpcallowip=&lt;ip&gt;</span></code> allows RPC connections from specified
host IP. The default port used to listen to RPC methods can be set with the
option <code class="docutils literal notranslate"><span class="pre">rpcport=&lt;port&gt;</span></code>; the default values being <code class="docutils literal notranslate"><span class="pre">8332</span></code> for mainnet, <code class="docutils literal notranslate"><span class="pre">18332</span></code> for
testnet and <code class="docutils literal notranslate"><span class="pre">18443</span></code> for regtest.</p>
<p>A default configuration file can be found inside the Bitcoin Core directory
under <a class="reference external" href="https://github.com/bitcoin/bitcoin/blob/master/share/examples/bitcoin.conf">share/examples/bitcoin.conf</a>.</p>
</div>
<div class="section" id="connecting-to-the-node">
<h2>Connecting To The Node<a class="headerlink" href="#connecting-to-the-node" title="Permalink to this headline">¶</a></h2>
<p>Connecting to a remote Bitcoin Core node from Bit is straight forward. It can be
done by calling <code class="xref py py-func docutils literal notranslate"><span class="pre">connect_to_node()</span></code>, e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bit.network</span> <span class="kn">import</span> <span class="n">NetworkAPI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NetworkAPI</span><span class="o">.</span><span class="n">connect_to_node</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">18443</span><span class="p">,</span> <span class="n">use_https</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">testnet</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>It is possible to connect to both a testnet and mainnet node by calling
<code class="xref py py-func docutils literal notranslate"><span class="pre">connect_to_node()</span></code> twice with the
arguments accordingly.</p>
</div>
<div class="section" id="using-the-remote-bitcoin-core-node">
<h2>Using The Remote Bitcoin Core Node<a class="headerlink" href="#using-the-remote-bitcoin-core-node" title="Permalink to this headline">¶</a></h2>
<p>After connecting to the remote node all API calls done by
<code class="xref py py-class docutils literal notranslate"><span class="pre">NetworkAPI</span></code> are seamlessly redirected to it.</p>
</div>
<div class="section" id="adding-an-address-to-the-internal-wallet-of-a-node">
<h2>Adding An Address To The Internal Wallet Of A Node<a class="headerlink" href="#adding-an-address-to-the-internal-wallet-of-a-node" title="Permalink to this headline">¶</a></h2>
<p>Bit will poll the node for data on an address using Bitcoin Core’s internal
wallet. An address to poll must therefore first be imported to Bitcoin Core’s
wallet.</p>
<p>We can directly access the Bitcoin Core node’s RPC and then use <code class="docutils literal notranslate"><span class="pre">importaddress</span></code>
to import a specific address as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">bit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bit.network</span> <span class="kn">import</span> <span class="n">NetworkAPI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the `node` object for direct access:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="n">NetworkAPI</span><span class="o">.</span><span class="n">connect_to_node</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">18443</span><span class="p">,</span> <span class="n">use_https</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">testnet</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">bit</span><span class="o">.</span><span class="n">PrivateKeyTestnet</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import an address to the node&#39;s wallet:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">importaddress</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">segwit_address</span><span class="p">,</span> <span class="s2">&quot;optional-label&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>You can read more about the RPC <code class="docutils literal notranslate"><span class="pre">importaddress</span></code> <a class="reference external" href="https://bitcoincore.org/en/doc/0.18.0/rpc/wallet/importaddress/">here</a>.</p>
<p>As we had just created the new address we set the last argument in
<code class="docutils literal notranslate"><span class="pre">importaddress</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>, which defines that the node will not rescan the
blockchain for the address as it will not have any transactions yet. If you are
importing a <em>used</em> address you must set the rescan parameter to <code class="docutils literal notranslate"><span class="pre">True</span></code>, as you
will otherwise receive incorrect information from your node!</p>
<p>Performing a rescan can take several minutes.</p>
</div>
</div>


    <br>
    <ul>
      <li>
        Previous topic: <a href="keys.html">Keys</a>
      </li>
      <li>
        Next topic: <a href="transactions.html">Transactions</a>
      </li>
    </ul>
    </div>
  </div>
</div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><!-- From https://github.com/kennethreitz/requests/blob/master/docs/_templates/sidebarlogo.html -->

<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/bit.png"/>
  </a>
</p>
<p>
<iframe src="https://ghbtns.com/github-btn.html?user=ofek&repo=bit&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>

<p>
  Bit is a modern Bitcoin library designed to be a pleasure to use for developers and end users alike.
</p>

<h3>Stay Informed</h3>
<p>Receive updates on new releases and upcoming projects.</p>

<p><iframe src="https://ghbtns.com/github-btn.html?user=ofek&type=follow&count=false"
  allowtransparency="true" frameborder="0" scrolling="0" width="200" height="20"></iframe></p>

<p><a href="https://twitter.com/Ofekmeister" class="twitter-follow-button" data-show-count="false">Follow @Ofekmeister</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></p>


<h3>Other Projects</h3>

<p>More <a href="https://github.com/ofek">Ofek Lev</a> projects:</p>
<ul>
    <li><a href="https://github.com/ofek/privy">Privy</a></li>
</ul>

<h3>Useful Links</h3>
<ul>
  <li><a href="https://github.com/ofek/bit">Bit @ GitHub</a></li>
  <li><a href="https://pypi.org/project/bit">Bit @ PyPI</a></li>
  <li><a href="https://github.com/ofek/bit/issues">Issue Tracker</a></li>
</ul>

<h3>Dependencies</h3>
<ul>
  <li><a href="https://github.com/ofek/coincurve">Coincurve</a></li>
  <li><a href="https://github.com/kennethreitz/requests">Requests</a></li>
</ul>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="keys.html">Keys</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Network</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#balance">Balance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unspent">Unspent</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transaction-history">Transaction History</a></li>
<li class="toctree-l2"><a class="reference internal" href="#services">Services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#networkapi">NetworkAPI</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#using-a-remote-bitcoin-core-node">Using a Remote Bitcoin Core Node</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#transaction-database-index-and-txindex">Transaction Database Index and <code class="docutils literal notranslate"><span class="pre">txindex</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-bitcoin-core">Configuring Bitcoin Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connecting-to-the-node">Connecting To The Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-remote-bitcoin-core-node">Using The Remote Bitcoin Core Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-an-address-to-the-internal-wallet-of-a-node">Adding An Address To The Internal Wallet Of A Node</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="transactions.html">Transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="rates.html">Exchange Rates</a></li>
<li class="toctree-l1"><a class="reference internal" href="fees.html">Fees</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/vulnerabilities.html">Vulnerability Disclosure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/updates.html">Stay Informed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/updates.html#release-history">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/authors.html">Authors</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/api.html">Developer Interface</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="keys.html" title="previous chapter">Keys</a></li>
      <li>Next: <a href="transactions.html" title="next chapter">Transactions</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/guide/network.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><!-- From https://github.com/kennethreitz/requests/blob/master/docs/_templates/hacks.html -->

<!-- Alabaster (krTheme++) Hacks -->

<!-- CSS Adjustments (I'm very picky.) -->
<style type="text/css">

  /* Rezzy requires precise alignment. */
  img.logo {margin-left: -20px!important;}

  /* "Quick Search" should be capitalized. */
  div#searchbox h3 {text-transform: capitalize;}

  /* Make the document a little wider, less code is cut-off. */
  div.document {width: 1008px;}

  /* Much-improved spacing around code blocks. */
  div.highlight pre {padding: 11px 14px;}

  /* Remain Responsive! */
  @media screen and (max-width: 1008px) {
    div.sphinxsidebar {display: none;}
    div.document {width: 100%!important;}

    /* Have code blocks escape the document right-margin. */
    div.highlight pre {margin-right: -30px;}
  }

</style>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Ofek Lev.
      
      |
      <a href="../_sources/guide/network.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/ofek/bit" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>